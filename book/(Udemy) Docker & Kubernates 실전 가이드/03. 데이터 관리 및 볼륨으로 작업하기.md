# 43~54강
## 데이터

![[image-and-container-rw.png]]
> 47강 3' 30"

### 기본적인 도커의 데이터 관리
- 이미지는 ReadOnly임.
- 만약에 컨테이너가 실행되면서 쓰기작업이 필요한 경우(임시 appData 혹은 영구데이터), 이미지가 아닌 컨테이너안에 데이터가 추가됨.
	- 그렇기때문에 컨테이너를 중단하고 재시작해도 컨테이너안에 데이터가 잘 남아있음.
	- 하지만 컨테이너에 `--rm` 옵션이 있으면 중단과 동시에 삭제되기 때문에 데이터도 같이 지워짐.

#### 개선점(볼륨)
[[#기본적인 도커의 데이터 관리]]에선 이미지를 재빌드하여 컨테이너를 새롭게 생성&실행하면, 기존 컨테이너에 있던 데이터는 사라진다. 이러한 문제를 해결하기 위해 [[#개선점(볼륨)|볼륨]]을 사용한다.
- **컨테이너에 볼륨을 추가하면, 컨테이너가 제거되어도 볼륨이 유지됨!!**
	- **그 말은, 컨테이너 외부에서 액세스할 수 도 있다는 말임!!**

- Anonymous Volumes
> 실제로 로컬호스트에 어떤 경로로 미러링되는지 모름.

 *->* `--rm`으로 컨테이너를 시작하면, 익명 볼륨도 사라짐.
 *--->* 그렇지 않으면, 익명 볼륨이 계속 쌓임. `docker volume rm {}` 혹은 `docker volume prune`으로 삭제해줘야함.
 -> Dockerfile에서 정의
```dockerfile
VOLUME [ "/app/feedback" ] <- 외부로 드러낼 컨테이너 안에 내부 위치
```

- Named Volumes
 > 영구적으로 보관이 필요한 데이터가 있을 경우 사용.

-> 어떻게든 컨테이너가 제거되어도, 볼륨은 남아있음. (맞나??)
-> Named Volumes는 Dockerfile에서 정의하는 것이 아닌, docker cli에서 정의하는 것.
```bash
docker run .... -v {지정할_볼륨이름} {컨테이너 내부 경로}
```

# 55~66 강 
